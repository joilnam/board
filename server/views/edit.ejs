<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<style>
    @import url("https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap");
    * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
    }

    body {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-color: #212121;
        font-family: "Space Mono", monospace;
    }

    form {
        display: flex;
        flex-direction: column;
        width: clamp(200px, 50vw, 300px);
        height: clamp(450px, 50vw, 500px);
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #fff;
        transition: box-shadow 0.25s ease-in;
    }

    form:hover {
        box-shadow: rgba(255, 255, 255, 0.5) 5px 3px,
        rgba(255, 255, 255, 0.4) 10px 6px, rgba(255, 255, 255, 0.3) 15px 9px;
    }

    input,
    textarea {
        background: none;
        outline: none;
        border: 2px solid #fff;
        padding: 10px;
        color: #fff;
        margin: 3px 0 10px;
        transition: all 0.5s ease;
        resize: none;
    }

    input:focus,
    textarea:focus {
        box-shadow: 0 0 5px #fff;
    }

    ::placeholder {
        color: #bdbdbd;
    }

    textarea::-webkit-scrollbar {
        width: 10px;
        border-left: 2px solid #fff;
    }

    textarea::-webkit-scrollbar-thumb {
        border-left: 2px solid #fff;
        background-color: #fff;
    }

    form h1 {
        color: white;
        margin-bottom: 10px;
        font-size: clamp(20px, 5vw, 35px);
    }

    button[type="submit"] {
        width: 100%;
        padding: 10px;
        background: none;
        border: 3px solid #fff;
        color: #fff;
        cursor: pointer;
        transition: all 0.8s ease;
        font-weight: 600;
        font-size: 1.2em;
    }

    button[type="submit"]:hover {
        background-color: #fff;
        color: #212121;
    }

    label {
        color: #fff;
        font-weight: bold;
    }
</style>
<body>
<form target="_blank" action="/edit?_method=PUT" method="POST">
    <h1>수정하기</h1>
    <input type="hidden" name="id" value="<% cinetoks._id%>">
    <label for="text">writer</label>
    <input  value="<%= cinetoks.writer %>"  type="text" name="writer" placeholder="글쓴이" required>
    <label for="text">title</label>
    <input  value="<%= cinetoks.title %>"  type="text" name="title" placeholder="Your title..." required>
    <label for="text">Your message</label>
    <textarea placeholder="Your Message..."  value="<%= cinetoks.message %>" class="form-control" name="message" rows="10" required></textarea>
    <button type="submit">Modify</button>
</form>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
<script>
    $('.edit').click(function(e){
        let rowNum=e.target.dataset.id;
        $.ajax({
            method:"EDIT",
            url:'/edit:<%= cinetoks._id%>',
            data:{_id:rowNum},
        }).done(function(result){
            location.reload();
        }).fail(function(){
            console.log('실패!')
        });
    })
</script>
</body>
</html>